{"version":3,"sources":["actions/filter.js","components/Filter.jsx","containers/Filter.js","actions/cart.js","components/Menu.jsx","containers/Menu.js","components/BookCard.jsx","containers/BookCard.js","components/App.jsx","actions/books.js","containers/App.js","reducers/books.js","reducers/cart.js","reducers/filter.js","reducers/index.js","index.js","store.js"],"names":["setFilter","filter","type","payload","setSearchQuery","value","Filter","filterBy","searchQuery","Menu","secondary","Item","active","onClick","bind","Input","onChange","e","target","icon","placeholder","connect","books","dispatch","bindActionCreators","filterActions","addToCart","obj","removeFromCart","id","CartComponent","title","image","List","selection","divided","verticalAlign","Content","floated","Button","color","Image","avatar","src","MenuComponent","totalPrice","count","items","name","position","Popup","trigger","content","map","book","on","hideOnScroll","cart","reduce","total","price","length","unionBy","cartActions","BookCard","author","addedCount","Card","Header","Meta","className","extra","Icon","this","App","setBooks","props","axios","get","then","data","isReady","Container","Group","itemsPerRow","i","React","Component","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","bookActions","initialState","combineReducers","state","action","o","store","createStore","rootReducer","applyMiddleware","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1654580a.chunk.js","sourcesContent":["export const setFilter = filter => ({\r\n    type: 'SET_FILTER',\r\n    payload: filter,\r\n})\r\n\r\nexport const setSearchQuery = value => ({\r\n    type: 'SET_QUERY',\r\n    payload: value,\r\n})","import React from 'react'\r\nimport { Menu, Input } from 'semantic-ui-react'\r\n\r\nconst Filter = ({ setFilter, filterBy, searchQuery, setSearchQuery }) => {\r\n    return (\r\n        <Menu secondary>\r\n            <Menu.Item\r\n                active={filterBy === 'all'}\r\n                onClick={setFilter.bind(this, 'all')}>\r\n                Все\r\n            </Menu.Item>\r\n            <Menu.Item\r\n                active={filterBy === 'price_high'}\r\n                onClick={setFilter.bind(this, 'price_high')}>\r\n                Цена(Дорогие)\r\n            </Menu.Item>\r\n            <Menu.Item\r\n                active={filterBy === 'price_low'}\r\n                onClick={setFilter.bind(this, 'price_low')}>\r\n                Цена(Дешевые)\r\n            </Menu.Item>\r\n            <Menu.Item\r\n                active={filterBy === 'author'}\r\n                onClick={setFilter.bind(this, 'author')}>\r\n                Автор\r\n            </Menu.Item>\r\n            <Menu.Item>\r\n                <Input\r\n                    onChange={e => setSearchQuery(e.target.value)}\r\n                    value={searchQuery}\r\n                    icon=\"search\"\r\n                    placeholder=\"Введите запрос...\"></Input>\r\n            </Menu.Item>\r\n\r\n        </Menu>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as filterActions from '../actions/filter';\r\nimport Filter from '../components/Filter';\r\n\r\nconst mapStateToProps = ({ books, filter }) => ({\r\n    filterBy: filter.filterBy\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(filterActions, dispatch),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","export const addToCart = obj => ({\r\n    type: 'ADD_TO_CART',\r\n    payload: obj,\r\n})\r\n\r\nexport const removeFromCart = id => ({\r\n    type: 'REMOVE_FROM_CART',\r\n    payload: id,\r\n})","import React from 'react'\r\nimport { Menu, Popup, List, Button, Image } from 'semantic-ui-react'\r\n\r\nconst CartComponent = ({ title, id, image, removeFromCart }) => {\r\n    return (\r\n        <List selection divided verticalAlign='middle'>\r\n            <List.Item>\r\n                <List.Content floated='right'>\r\n                    <Button onClick={removeFromCart.bind(this, id)} color=\"red\">Удалить</Button>\r\n                </List.Content>\r\n                <Image avatar src={image} />\r\n                <List.Content>{title}</List.Content>\r\n            </List.Item>\r\n        </List>\r\n    )\r\n}\r\n\r\n\r\nconst MenuComponent = ({ totalPrice, count, items }) => {\r\n    return (\r\n        <Menu>\r\n            <Menu.Item name='browse'>Магазин книг</Menu.Item>\r\n\r\n            <Menu.Menu position='right'>\r\n                <Menu.Item name='signup'>Итого: &nbsp; <b>{totalPrice}</b>&nbsp; руб.</Menu.Item>\r\n\r\n                <Popup\r\n                    trigger={\r\n                        <Menu.Item name='help'>Корзина ( <b>{count}</b> )</Menu.Item>\r\n                    }\r\n                    content={items.map(book => <CartComponent {...book}/>)}\r\n                    on='click'\r\n                    hideOnScroll\r\n                />\r\n\r\n            </Menu.Menu>\r\n        </Menu>\r\n    )\r\n}\r\n\r\nexport default MenuComponent\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as cartActions from '../actions/cart';\r\nimport Menu from '../components/Menu';\r\nimport unionBy from 'lodash/unionBy'\r\n\r\nconst mapStateToProps = ({ cart }) => ({\r\n    totalPrice: cart.items.reduce((total, book) => total + book.price, 0),\r\n    count: cart.items.length,\r\n    items: unionBy(cart.items, obj => obj.id),\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions, dispatch),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React from 'react'\r\nimport { Card, Icon, Image, Button } from 'semantic-ui-react'\r\n\r\nfunction BookCard(book) {\r\n    const { title, author, price, image, addToCart, addedCount } = book;\r\n    return (\r\n        <Card>\r\n            <Image src={image} />\r\n            <Card.Content>\r\n                <Card.Header>{title}</Card.Header>\r\n                <Card.Meta>\r\n                    <span className='date'>{author}</span>\r\n                </Card.Meta>\r\n\r\n            </Card.Content>\r\n            <Card.Content extra>\r\n                <a>\r\n                    <Icon name='rub' />\r\n                    {price}\r\n                </a>\r\n            </Card.Content>\r\n            <Button onClick={addToCart.bind(this, book)}>\r\n                Добавить в корзину {addedCount > 0 && `(${addedCount})`}\r\n            </Button>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default BookCard\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as cartActions from '../actions/cart';\r\nimport BookCard from '../components/BookCard';\r\n\r\nconst mapStateToProps = ({ cart }, { id }) => ({\r\n    addedCount: cart.items.reduce((count, book) => count + (book.id === id ? 1 : 0), 0),\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions, dispatch),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookCard);\r\n","import axios from 'axios';\r\nimport React from 'react'\r\nimport Filter from '../containers/Filter';\r\nimport Menu from '../containers/Menu';\r\nimport BookCard from '../containers/BookCard';\r\nimport { Card, Container } from 'semantic-ui-react';\r\n\r\nclass App extends React.Component {\r\n\r\n  componentWillMount() {\r\n    const { setBooks } = this.props\r\n    axios.get('/books.json').then(({ data }) => {\r\n      setBooks(data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { books, isReady } = this.props\r\n    return (\r\n      <Container>\r\n\r\n        <Menu />\r\n        <Filter />\r\n        <Card.Group itemsPerRow={4}>\r\n          {!isReady\r\n            ? 'Загрузка..'\r\n            : books.map((book, i) => (\r\n              <BookCard key={i} {...book} />\r\n            ))}\r\n\r\n        </Card.Group>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","\r\n\r\nexport const setBooks = (books) => ({\r\n    type: 'SET_BOOKS',\r\n    payload: books\r\n})","import { connect } from 'react-redux';\r\nimport App from '../components/App';\r\nimport * as bookActions from '../actions/books';\r\nimport { bindActionCreators } from 'redux';\r\nimport orderBy from 'lodash/orderBy';\r\n\r\nconst sortBy = (books, filterBy) => {\r\n    switch (filterBy) {\r\n        case 'price_high':\r\n            return orderBy(books, 'price', 'desc');\r\n        case 'price_low':\r\n            return orderBy(books, 'price', 'asc');\r\n        case 'author':\r\n            return orderBy(books, 'author', 'asc');\r\n        default:\r\n            return books;\r\n    }\r\n}\r\nconst filterBooks = (books, searchQuery) => {\r\n    return books.filter(obj =>\r\n        obj.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\r\n        obj.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\r\n    );\r\n};\r\n\r\nconst searchBooks = (books, filterBy, searchQuery) => {\r\n    return sortBy(filterBooks(books, searchQuery), filterBy)\r\n}\r\n\r\nconst mapStateToProps = ({ books, filter }) => ({\r\n    books: books.items && searchBooks(books.items, filter.filterBy, filter.searchQuery),\r\n    isReady: books.isReady\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(bookActions, dispatch),\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","const initialState = {\r\n    isReady: false,\r\n    items: null,\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_BOOKS':\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isReady: true\r\n            }\r\n        case 'SET_IS_READY':\r\n            return {\r\n                ...state,\r\n                isReady: action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {\r\n    items: []\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART':\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    action.payload\r\n                ],\r\n            }\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(o => o.id !== action.payload)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {\r\n    searchQuery: '',\r\n    filterBy: 'all'\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload,\r\n            }\r\n        case 'SET_QUERY':\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport books from './books'\r\nimport cart from \"./cart\";\r\nimport filter from \"./filter\";\r\n\r\n\r\nexport default combineReducers({\r\n    books,\r\n    cart,\r\n    filter\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './containers/App';\r\nimport { Provider } from 'react-redux';\r\nimport createStore from './store';\r\n\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './index.css';\r\nimport './app.css'\r\n\r\nconst store = createStore()\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n","import { createStore, applyMiddleware} from 'redux'\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from './reducers'\r\n\r\nexport default () => {\r\n    const store = createStore(rootReducer, applyMiddleware(logger))\r\n    return store\r\n};\r\n"],"sourceRoot":""}